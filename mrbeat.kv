#:import track track
#:import play_indicator play_indicator

MainWidget:

<MainWidget>:
    tracks_layout : tracks_layout_id
    play_indicator_widget: play_indicator_widget_id

    BoxLayout:
        orientation: "vertical"

        # Top Layout
        RelativeLayout:
            size_hint_y: None
            height: dp(60)
            Image:
                source: "images/top_background.png"
                allow_stretch : True
                keep_ratio : False
            Image:
                source: "images/logo.png"
                allow_stretch: True
                size_hint_x: None
                width: dp(230)
            BoxLayout
                size_hint_x: None
                width: dp(210)
                pos_hint: {"center_x": 0.5}
                ControlButton:
                    on_press: root.on_play_button_pressed()
                    background_normal: "images/play_button_normal.png"
                    background_down: "images/play_button_down.png"
                ControlButton:
                    on_press: root.on_stop_button_pressed()
                    background_normal: "images/stop_button_normal.png"
                    background_down: "images/stop_button_down.png"
                ControlButton:
                    on_press: root.on_clear_button_pressed()
                    background_normal: "images/clear_button_normal.png"
                    background_down: "images/clear_button_down.png"
            BoxLayout:
                size_hint_x: None
                width: dp(180)
                pos_hint: {"right": 1}
                ControlButton:
                    on_press: root.bpm -= 5
                    size_hint_x: None
                    width: dp(40)
                    background_normal: "images/minus_button_normal.png"
                    background_down: "images/minus_button_down.png"
                RelativeLayout:
                    Image:
                        source: "images/bpm_lcd_background.png"
                        allow_stretch: True
                        keep_ratio: False
                    Label:
                        text: str(root.bpm)
                ControlButton:
                    on_press: root.bpm += 5
                    size_hint_x: None
                    width: dp(40)
                    background_normal: "images/plus_button_normal.png"
                    background_down: "images/plus_button_down.png"
                Widget:
                    size_hint_x: None
                    width: dp(20)

        # Bottom Layout
        RelativeLayout:
            Image:
                source: "images/background.jpg"
                allow_stretch: True
                keep_ratio: False
            BoxLayout:
                orientation: "vertical"
                padding: dp(16)
                PlayIndicatorWidget:
                    id: play_indicator_widget_id
                    size_hint_y: None
                    height: dp(8)
                BoxLayout:
                    id: tracks_layout_id
                    orientation: "vertical"

<ControlButton@Button>: